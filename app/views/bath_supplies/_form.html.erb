  <div class="col-md-6"> 

    <div class="panel panel-default">
        <div class="panel-body">
            <h4>New Bath Supply</h4>
            <hr/>


            <%= form_for(@bath_supply, html: { multipart: true }) do |f| %>
              <% if @bath_supply.errors.any? %>
                <div id="error_explanation">
                  <h2><%= pluralize(@bath_supply.errors.count, "error") %> prohibited this product from being saved:</h2>

                  <ul>
                  <% @bath_supply.errors.full_messages.each do |message| %>
                    <li><%= message %></li>
                  <% end %>
                  </ul>
                </div>
              <% end %>


               <div class="form-group">


              </div>


            <div class="form-group" style="display:none;">
					    <%= f.label :user_id %>
					    <%= f.number_field :user_id, :value => current_user.id %>
					  </div>
					  <div class="form-group">
               <%= f.label :title %><br/>
              <%= f.text_field :title , :class=>"form-control"  %>
            </div>
            <div class="form-group">
               <%= f.label :category %><br/>
             <%= f.text_field :category , :class=>"form-control"  %>
            </div>

             <div class="form-group">
               <%= f.label :price %><br/>
             <%= f.text_field :price , :class=>"form-control"  %>
            </div>
            
            <div class="form-group">
               <%= f.label :made_by_country %><br/>
              <%= f.text_field :made_by_country , :class=>"form-control"  %>
            </div>
           
            <div class="form-group">
                <%= f.label :brand %><br/>
                <%= f.text_field :brand , :class=>"form-control"  %>
            </div>
            <div class="form-group">
                <%= f.label :effect %><br/>
                <%= f.text_field :effect , :class=>"form-control"  %>
            </div>
            <div class="form-group">
               <%= f.label :certification %><br/>
               <%= f.text_field :certification , :class=>"form-control"  %>
            </div>
            <div class="form-group">
               <%= f.label :age_group %><br/>
               <%= f.text_field :age_group, :class=>"form-control"  %>
            </div>



        </div>
    </div> 
  
  </div>
  <div class="col-md-6">

    <div class="panel panel-default">
        <div class="panel-body">
         <h4>Product Images (Width:250px High:200px for best view)</h4>
            <hr/>

   
              <!-- crop mage -->
               <div class="col-md-6">
                      <div class="image-editor1">

                          <%= f.file_field :avatar1, :class=>"cropit-image-input" %>
                          <div class="cropit-preview"></div>
                          <div class="image-size-label">
                            Resize image
                          </div>

                            <%= f.text_field :avatar1_edit, :class=>"form-control"  %>


                            <input type="range" class="cropit-image-zoom-input" >

                          <div>
                              <span style="float:left;"><img src="/assets/leftclock.png" class="rotate-ccw"></span>
                              <span><img src="/assets/rightclock.png" class="rotate-cw"></span>
                              <span style="float:right;"><button class="exportav1">Confirm</button></span>
                          </div>
                  
                          

                        </div>
              </div>
               <div class="col-md-6">
                      <div class="image-editor2">

                          <%= f.file_field :avatar2, :class=>"cropit-image-input" %>
                          <div class="cropit-preview"></div>
                          <div class="image-size-label">
                            Resize image
                          </div>

                            <%= f.text_field :avatar2_edit, :class=>"form-control"  %>


                            <input type="range" class="cropit-image-zoom-input" >

                          <div>
                              <span style="float:left;"><img src="/assets/leftclock.png" class="rotate-ccw"></span>
                              <span><img src="/assets/rightclock.png" class="rotate-cw"></span>
                              <span style="float:right;"><button class="exportav2">Confirm</button></span>
                          </div>
                  
                       

                        </div>
              </div>


                  <div class="col-md-6">
                      <div class="image-editor3">

                          <%= f.file_field :avatar3, :class=>"cropit-image-input" %>
                          <div class="cropit-preview"></div>
                          <div class="image-size-label">
                            Resize image
                          </div>

                            <%= f.text_field :avatar3_edit, :class=>"form-control"  %>


                            <input type="range" class="cropit-image-zoom-input" >

                          <div>
                              <span style="float:left;"><img src="/assets/leftclock.png" class="rotate-ccw"></span>
                              <span><img src="/assets/rightclock.png" class="rotate-cw"></span>
                              <span style="float:right;"><button class="exportav3">Confirm</button></span>
                          </div>
                  
                       

                        </div>
              </div>



    <div class="col-md-6">
                      <div class="image-editor4">

                          <%= f.file_field :avatar4, :class=>"cropit-image-input" %>
                          <div class="cropit-preview"></div>
                          <div class="image-size-label">
                            Resize image
                          </div>

                            <%= f.text_field :avatar4_edit, :class=>"form-control"  %>


                            <input type="range" class="cropit-image-zoom-input" >

                          <div>
                              <span style="float:left;"><img src="/assets/leftclock.png" class="rotate-ccw"></span>
                              <span><img src="/assets/rightclock.png" class="rotate-cw"></span>
                              <span style="float:right;"><button class="exportav4">Confirm</button></span>
                          </div>
                  
                       

                        </div>
              </div>
           

            
        </div>
    </div>


  </div>

  <div class="col-md-12">

    <div class="panel panel-default">
        <div class="panel-body">

            <div class="form-group">
               <%= f.label :ingredient %><br/>
                <%= f.text_area :ingredient , :class=>"form-control", :rows=> 6  %>
            </div>
            <div class="form-group">
               <%= f.label :usage %><br/>
              <%= f.text_area :usage , :class=>"form-control", :rows=> 6  %>
            </div>

             <div class="form-group">
               <%= f.label :description %><br/>
               <%= f.text_area :description , :class=>"form-control", :rows=> 6  %>
            </div>
        </div>
       </div>
     </div>
            

  <div class="col-md-12">

    <div class="panel panel-default">
        <div class="panel-body">

           <div class="actions">
            Please enter "Create" button to upload your
            bath supplies product in your store.
            <span style="float:right;"><%= f.submit %></span>
          </div>

        </div>
    </div>
  </div>


<% end %>


<script type="text/javascript">
  
  var img = new Image();
img.onload = function(){
    var cropMarginWidth = 5,
        canvas = $('<canvas/>')
                    .attr({
                         width: img.width - 2 * cropMarginWidth,
                         height: img.height - 2 * cropMarginWidth
                     })
                    .hide()
                    .appendTo('body'),
        ctx = canvas.get(0).getContext('2d'),
        a = $('<a download="cropped-image" title="click to download the image" />'),
        cropCoords = {
            topLeft : {
                x : cropMarginWidth,
                y : cropMarginWidth 
            },
            bottomRight :{
                x : img.width - cropMarginWidth,
                y : img.height - cropMarginWidth
            }
        };

    ctx.drawImage(img, cropCoords.topLeft.x, cropCoords.topLeft.y, cropCoords.bottomRight.x, cropCoords.bottomRight.y, 0, 0, img.width, img.height);
    var base64ImageData = canvas.get(0).toDataURL();


    a
        .attr('href', base64ImageData)
        .text('cropped image')
        .appendTo('body');

    a
        .clone()
        .attr('href', img.src)
        .text('original image')
        .attr('download','original-image')
        .appendTo('body');

    canvas.remove();
}
img.src = 'some-image-src';

</script>