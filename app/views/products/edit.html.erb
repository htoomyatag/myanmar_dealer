

<%= render 'layouts/defaultnav' %>







<div id="main-container" class="row">
  


<%= form_for(@product, html: { multipart: true }) do |f| %>
  <% if @product.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@product.errors.count, "error") %> prohibited this product from being saved:</h2>

      <ul>
      <% @product.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

	<div class="col-md-12"> 

		<div class="panel panel-default">
			  <div class="panel-body">
			    	<h4>Edit Product</h4>
			    	<hr/>
			    	

					  <div class="form-group">
					    <%= f.label :title %><br/>
					    <%= f.text_field :title, :class=>"form-control"  %>
					  </div>
					  <div class="form-group">
					    <%= f.label :color %><br/>
					    <%= f.text_field :color, :class=>"form-control" %>
					  </div>
					  <div class="form-group">
					    <%= f.label :size %><br/>
					    <%= f.text_field :size, :class=>"form-control" %>
					  </div>
					  <div class="form-group">
					    <%= f.label :quantity %><br/>
					    <%= f.text_field :quantity, :class=>"form-control" %>
					  </div>
					   <div class="form-group">
					    <%= f.label :price %><br/>
					    <%= f.text_field :price, :class=>"form-control" %>
					  </div>
					  <div class="form-group" style="display:none;s">
					    <%= f.label :user_id %>
					    <%= f.number_field :user_id, :value => current_user.id %>
					  </div>
					 


			  </div>
		</div> 
	
	</div>
	<div class="col-md-12">

		<div class="panel panel-default">
			  <div class="panel-body">
			    	<h4>Product Images </h4>

			    	     <div class="col-md-3">
                      <div class="image-editor1">

                          <%= f.file_field :avatar1, :class=>"cropit-image-input" %>
                          <div class="cropit-preview"></div>
                          <div class="image-size-label">
                            Resize image
                          </div>

                           <%= f.text_field :avatar1_edit, :class=>"form-control", :style=>"display:none"  %>


                            <input type="range" class="cropit-image-zoom-input" id="exportav1">


                  
                          

                        </div>
              </div>
               <div class="col-md-3">
                      <div class="image-editor2">

                          <%= f.file_field :avatar2, :class=>"cropit-image-input" %>
                          <div class="cropit-preview"></div>
                          <div class="image-size-label">
                            Resize image
                          </div>

                           <%= f.text_field :avatar2_edit, :class=>"form-control", :style=>"display:none"  %>


                            <input type="range" class="cropit-image-zoom-input" id="exportav2">


                  
                       

                        </div>
              </div>


                  <div class="col-md-3">
                      <div class="image-editor3">

                          <%= f.file_field :avatar3, :class=>"cropit-image-input" %>
                          <div class="cropit-preview"></div>
                          <div class="image-size-label">
                            Resize image
                          </div>

                           <%= f.text_field :avatar3_edit, :class=>"form-control", :style=>"display:none"  %>


                            <input type="range" class="cropit-image-zoom-input" id="exportav3">


                  
                       

                        </div>
              </div>



    <div class="col-md-3">
                      <div class="image-editor4">

                          <%= f.file_field :avatar4, :class=>"cropit-image-input" %>
                          <div class="cropit-preview"></div>
                          <div class="image-size-label">
                            Resize image
                          </div>

                           <%= f.text_field :avatar4_edit, :class=>"form-control"  %>


                            <input type="range" class="cropit-image-zoom-input" >


                  
                       

                        </div>
              </div>
			    

			    	
			  </div>
		</div>


	</div>

	<div class="col-md-12">

		<div class="panel panel-default">
			  <div class="panel-body">

					 <div class="actions">
					  Please enter "Create product" button to edit your
					  produt in your store.
					 	<span style="float:right;"><%= f.submit %></span>
					</div>

			  </div>
		</div>
	</div>



</div>

<% end %>




    <script>
      $(function() {
        $('.image-editor1').cropit({

     minZoom: 'fit',
    imageState: {
            src: 'http://localhost:3000/',
          },
        });

        $('.image-editor2').cropit({

     minZoom: 'fit',
    imageState: {
            src: 'http://localhost:3000/',
          },
        });


        $('.image-editor3').cropit({

     minZoom: 'fit',
    imageState: {
            src: 'http://localhost:3000/',
          },
        });

        $('.image-editor4').cropit({

     minZoom: 'fit',
    imageState: {
            src: 'http://localhost:3000/',
          },
        });




        $('.rotate-cw').click(function() {
          $('.image-editor1').cropit('rotateCW');
        });
        $('.rotate-ccw').click(function() {
          $('.image-editor1').cropit('rotateCCW');
        });



        $('.rotate-cw').click(function() {
          $('.image-editor2').cropit('rotateCW');
        });
        $('.rotate-ccw').click(function() {
          $('.image-editor2').cropit('rotateCCW');
        });



        $('.rotate-cw').click(function() {
          $('.image-editor3').cropit('rotateCW');
        });
        $('.rotate-ccw').click(function() {
          $('.image-editor3').cropit('rotateCCW');
        });



        $('.rotate-cw').click(function() {
          $('.image-editor4').cropit('rotateCW');
        });
        $('.rotate-ccw').click(function() {
          $('.image-editor4').cropit('rotateCCW');
        });









        var rangeInput = document.getElementById("exportav1");
        rangeInput.addEventListener('mouseup', function() {
          var imageData1 = $('.image-editor1').cropit('export');
       
          document.getElementById("product_avatar1_edit").value = imageData1;
          // window.open(imageData);

        });




        var rangeInput = document.getElementById("exportav2");
        rangeInput.addEventListener('mouseup', function() {
          var imageData2 = $('.image-editor2').cropit('export');
       
          document.getElementById("product_avatar2_edit").value = imageData2;
          // window.open(imageData);

        });


        var rangeInput = document.getElementById("exportav3");
        rangeInput.addEventListener('mouseup', function() {
          var imageData3 = $('.image-editor3').cropit('export');
       
          document.getElementById("product_avatar3_edit").value = imageData3;
          // window.open(imageData);

        });


        var rangeInput = document.getElementById("exportav4");
        rangeInput.addEventListener('mouseup', function() {
          var imageData4 = $('.image-editor4').cropit('export');
       
          document.getElementById("product_avatar4_edit").value = imageData4;
          // window.open(imageData);

        });




      });
    </script>
